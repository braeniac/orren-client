/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Base: global tokens & resets ---------- */
@layer base {
  /* Use class-based dark mode (set <html class="dark"> to force dark) */
  :root {
    /* Orren "ruin-terminal" palette (light defaults shown for completeness) */
    --bg:            #0b0b0b;   /* deep obsidian */
    --text:          #d1c7a1;   /* parchment white */
    --accent:        #9f8f5d;   /* brass */
    --accent-2:      #3a7765;   /* oxidized bronze */
    --danger:        #a34232;   /* rust/blood */
    --link:          #b6a45f;   /* golden flicker */
    --crt-glow:      rgba(255, 240, 200, 0.08); /* faint phosphor haze */
    --muted:         #8f8563;   /* dimmed text */
    --panel:         #111111;   /* slightly raised panel bg */
    --border:        #2b2b2b;   /* subtle borders */
  }

  /* Optional “light” theme tokens (if you ever switch) */
  .light {
    --bg:    #f6f1e3;
    --text:  #26231a;
    --panel: #fffaf0;
    --border:#e3dcc8;
  }

  /* Dark theme just uses :root values (you can still add .dark overrides later) */
  html {
    @apply font-mono;
    color: var(--text);
    background-color: var(--bg);
  }

  body, #root, #__next {
    min-height: 100%;
  }

  /* Subtle global CRT glow */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    box-shadow: 0 0 80px 20px var(--crt-glow) inset;
  }

  /* Optional scanlines overlay */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
      to bottom,
      rgba(0,0,0,0.15) 0px,
      rgba(0,0,0,0.15) 1px,
      transparent 2px,
      transparent 3px
    );
    opacity: 0.25;
    mix-blend-mode: multiply;
  }

  /* Smoothing & legibility */
  :root {
    font-size: 16px;
    line-height: 24px;
    font-weight: 400;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-text-size-adjust: 100%;
  }
}

/* ---------- Components: reusable utility-backed classes ---------- */
@layer components {
  .container {
    @apply m-0 pt-[10vh] flex flex-col justify-center text-center;
  }

  .row { @apply flex justify-center; }

  /* Buttons that feel like worn metal */
  .btn {
    background: var(--panel);
    color: var(--text);
    border: 1px solid var(--border);
    @apply rounded-lg px-5 py-2 text-base font-medium shadow;
    transition: border-color .2s, transform .06s, background-color .2s;
  }
  .btn:hover   { border-color: var(--accent); }
  .btn:active  { transform: translateY(1px); background: #0e0e0e; }

  /* Variants */
  .btn-accent   { color: #0b0b0b; background: var(--accent); border-color: var(--accent); }
  .btn-danger   { color: #0b0b0b; background: var(--danger); border-color: var(--danger); }
  .btn-ghost    { background: transparent; border-color: var(--border); }
  .btn-ghost:hover { border-color: var(--accent-2); color: var(--accent-2); }

  /* Links with “golden flicker” */
  .link {
    color: var(--link);
    text-decoration: none;
    position: relative;
  }
  .link:hover { text-decoration: underline; }
  .link:focus { outline: 2px dashed var(--accent); outline-offset: 2px; }

  /* Panels / cards */
  .panel {
    background: var(--panel);
    border: 1px solid var(--border);
    @apply p-6 shadow;
  }

  /* Terminal title glow */
  .title {
    color: var(--accent);
    text-shadow: 0 0 6px rgba(159,143,93,0.35);
    @apply text-2xl md:text-3xl font-semibold tracking-tight;
  }

  /* Muted text */
  .muted { color: var(--muted); }

  /* input that blends into the background, uses palette */
  .term-input {
    background: transparent;
    border: none;
    outline: none;
    color: var(--text);
    caret-color: var(--link);        /* blinking caret (native) */
    font: inherit;                   /* keep your monospace */
  }

  /* softer placeholder that matches your scheme */
  .term-input::placeholder {
    color: var(--muted);
    opacity: .7;
  }

  /* Logos (if you keep them) — tuned to Orren palette */
  .logo { @apply h-24 p-6 transition-[filter] duration-700 will-change-[filter]; }
  .logo:hover { filter: drop-shadow(0 0 1.5rem var(--link)); }
}

/* ---------- Utilities: tiny helpers you might reuse ---------- */
@layer utilities {
  .crt-bloom { box-shadow: 0 0 60px 10px var(--crt-glow) inset; }
  .stone-border { box-shadow: inset 0 0 0 1px var(--border); }
  .text-oxidized { color: var(--accent-2); }
  .text-brass    { color: var(--accent); }
  .text-rust     { color: var(--danger); }
}
